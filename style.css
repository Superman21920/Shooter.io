/* Root UI additions: main menu, cube buttons, modals */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&display=swap');

:root {
  --red: #ff3b3b;
  --green: #2bff88;
  --yellow: #ffd642;
  --blue: #46b2ff;
  --purple: #b46bff;
  --dark: #0f0f23;
  --panel: rgba(0,0,0,0.65);
}

/* Centered full-screen overlay container */
.menu-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(1200px 800px at 50% 50%, rgba(255,255,255,0.04), transparent 60%),
              radial-gradient(800px 600px at 20% 30%, rgba(70,178,255,0.08), transparent 60%),
              linear-gradient(135deg, rgba(15,15,35,0.9), rgba(15,15,35,0.95));
  backdrop-filter: blur(6px);
  z-index: 50;
}

.menu-panel {
  width: min(720px, 92vw);
  padding: 32px;
  border-radius: 16px;
  position: relative;
  background: var(--panel);
  border: 2px solid rgba(255,255,255,0.12);
  box-shadow: 0 20px 60px rgba(0,0,0,0.6), 0 0 40px rgba(70,178,255,0.15);
}

.menu-title {
  font-family: 'Orbitron', system-ui, sans-serif;
  font-weight: 900;
  letter-spacing: 2px;
  text-align: center;
  font-size: clamp(28px, 5vw, 54px);
  margin-bottom: 24px;
  color: #fff;
  text-shadow: 0 0 18px rgba(70,178,255,0.6), 0 0 36px rgba(180,107,255,0.35);
}

.menu-subtitle {
  font-family: 'Orbitron', system-ui, sans-serif;
  text-align: center;
  color: rgba(255,255,255,0.8);
  margin-bottom: 24px;
}

.menu-list {
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
  justify-items: center;
}

/* Cube 3D button - base */
.cube-btn {
  --btn: #46b2ff;
  --btn-dark: color-mix(in srgb, var(--btn) 80%, black);
  position: relative;
  display: inline-block;
  min-width: 240px;
  padding: 16px 28px 18px;
  border: none;
  cursor: pointer;
  color: #0b0b16;
  font-weight: 900;
  font-family: 'Orbitron', system-ui, sans-serif;
  text-transform: uppercase;
  letter-spacing: 2px;
  background: linear-gradient(180deg, var(--btn) 0%, var(--btn-dark) 100%);
  border-radius: 12px;
  transform-style: preserve-3d;
  transition: transform 160ms ease, box-shadow 160ms ease, filter 160ms ease;
  box-shadow: 0 14px 0 0 color-mix(in srgb, var(--btn) 72%, black) inset,
              0 18px 0 0 color-mix(in srgb, var(--btn) 40%, black),
              0 28px 40px rgba(0,0,0,0.45),
              0 0 24px color-mix(in srgb, var(--btn) 55%, transparent);
}

.cube-btn:before { /* top face */
  content: "";
  position: absolute;
  inset: -4px -6px 50% -6px;
  border-radius: 12px 12px 8px 8px;
  background: linear-gradient(180deg, #fff8, #fff0);
  pointer-events: none;
  filter: blur(2px);
}

.cube-btn:after { /* front edge shine */
  content: "";
  position: absolute;
  left: 8px; right: 8px; bottom: 6px; height: 10px;
  border-radius: 8px;
  background: linear-gradient(180deg, #0000, #0002);
}

.cube-btn:hover {
  transform: translateY(-4px);
  box-shadow: 0 14px 0 0 color-mix(in srgb, var(--btn) 72%, black) inset,
              0 22px 0 0 color-mix(in srgb, var(--btn) 40%, black),
              0 30px 50px rgba(0,0,0,0.55),
              0 0 30px color-mix(in srgb, var(--btn) 65%, transparent);
  filter: saturate(1.12);
}

.cube-btn:active {
  transform: translateY(4px);
  box-shadow: 0 10px 0 0 color-mix(in srgb, var(--btn) 72%, black) inset,
              0 10px 0 0 color-mix(in srgb, var(--btn) 40%, black),
              0 16px 28px rgba(0,0,0,0.45),
              0 0 18px color-mix(in srgb, var(--btn) 45%, transparent);
}

/* Color variants */
.cube-btn.red    { --btn: var(--red); }
.cube-btn.green  { --btn: var(--green); }
.cube-btn.yellow { --btn: var(--yellow); }
.cube-btn.blue   { --btn: var(--blue); }
.cube-btn.purple { --btn: var(--purple); }

/* Modal base */
.menu-modal {
  position: absolute;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, rgba(15,15,35,0.92), rgba(20,12,30,0.94));
  backdrop-filter: blur(6px);
  z-index: 60;
}
.menu-modal.show { display: flex; }

.modal-card {
  width: min(900px, 94vw);
  max-height: 86vh;
  overflow: auto;
  padding: 24px;
  border-radius: 16px;
  background: var(--panel);
  border: 2px solid rgba(255,255,255,0.12);
  box-shadow: 0 16px 48px rgba(0,0,0,0.55);
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 16px;
}

.modal-title {
  font-family: 'Orbitron', system-ui, sans-serif;
  font-weight: 800;
  color: #fff;
  letter-spacing: 2px;
}

.close-x {
  background: transparent;
  border: 0;
  color: #fff;
  font-size: 22px;
  cursor: pointer;
}

/* Tank grid */
.tank-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.tank-card {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 14px;
  padding: 14px;
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.tank-card:hover { transform: translateY(-4px); box-shadow: 0 16px 32px rgba(0,0,0,0.4); }
.tank-card.selected { outline: 2px solid var(--blue); box-shadow: 0 0 0 6px rgba(70,178,255,0.2) inset; }

.tank-name { font-family: 'Orbitron', system-ui, sans-serif; font-weight: 800; color: #fff; margin-top: 8px; }
.tank-desc { color: rgba(255,255,255,0.8); font-size: 13px; margin: 4px 0 8px; }

.preview-wrap { display: grid; place-items: center; }
.tank-preview { width: 160px; height: 120px; background: rgba(0,0,0,0.35); border-radius: 10px; border: 1px solid rgba(255,255,255,0.12); }

.stat { display: grid; grid-template-columns: 90px 1fr 38px; align-items: center; gap: 8px; margin: 6px 0; }
.stat label { color: #9bb1ff; font-weight: 700; font-size: 12px; }
.bar { height: 10px; background: rgba(255,255,255,0.12); border-radius: 8px; overflow: hidden; }
.fill { height: 100%; background: linear-gradient(90deg, #46b2ff, #b46bff); border-radius: 8px; width: 0%; }
.value { color: #fff; font-weight: 700; font-size: 12px; text-align: right; }

.modal-actions { display: flex; flex-wrap: wrap; gap: 12px; justify-content: flex-end; margin-top: 16px; }

/* Settings */
.settings-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 14px; }
.setting {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 12px;
  padding: 12px 14px;
}
.setting h4 { color: #fff; font-family: 'Orbitron', system-ui, sans-serif; margin-bottom: 10px; }
.setting .row { display: flex; align-items: center; justify-content: space-between; gap: 10px; margin: 10px 0; }
.setting input[type="range"] { width: 140px; }
.setting .toggle { display: inline-flex; align-items: center; gap: 8px; color: #fff; }

/* Helpers */
.hidden { display: none !important; }

/* Responsive */
@media (max-width: 520px) {
  .menu-panel { padding: 20px; }
  .cube-btn { min-width: 200px; }
}
